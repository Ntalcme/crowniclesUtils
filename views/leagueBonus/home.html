<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulateur de Bonus de Ligue</title>
    <link rel="stylesheet" href="../../styles/leagueBonus/home.css">
    <script src="https://unpkg.com/vue@3/dist/vue.global.prod.js"></script>
    <script type="module" src="../../scripts/leagueBonus/main.js"></script>
</head>
<body>
<noscript>
    <div>
        JavaScript est requis pour utiliser cette application.
    </div>
</noscript>

<header class="header-card">
    <div class="header-content">
        <div class="header-left">
            <h1>ğŸ† Simulateur de Bonus de Ligue</h1>
            <p>Calculez vos rÃ©compenses selon votre ligue et classement</p>
        </div>
        <a href="../../home.html" class="btn-home" title="Retour Ã  l'accueil" aria-label="Accueil">
            <span class="btn-icon">ğŸ </span>
            <span class="btn-label">Accueil</span>
        </a>
    </div>
</header>

<main class="container" id="app">
    <!-- ParamÃ¨tres -->
    <div class="card">
        <h2>âš™ï¸ ParamÃ¨tres</h2>
        <div class="form-grid">
            <div class="form-group">
                <label for="leagueSelect">ğŸ† Ligue de la saison prÃ©cÃ©dente</label>
                <select id="leagueSelect" v-model="selectedLeague">
                    <option v-for="(name, key) in LEAGUE_NAMES" :key="key" :value="key">
                        {{ LEAGUE_EMOJIS[key] }} {{ name }}
                    </option>
                </select>
            </div>

            <div class="form-group">
                <label for="rankInput">ğŸ“Š Classement</label>
                <input type="number" id="rankInput" v-model.number="rank" min="1" placeholder="Entrez votre rang">
                <small>Position finale dans le classement (top 200 pour les points bonus)</small>
            </div>
        </div>

        <button class="btn-simulate" @click="calculate">Calculer les rÃ©compenses</button>
    </div>

    <div v-if="rewards" class="results-grid">
        <!-- RÃ©compenses principales -->
        <div class="card reward-card">
            <h2>ğŸ RÃ©compenses principales</h2>
            <div class="reward-item">
                <span class="reward-icon">ğŸ’°</span>
                <span class="reward-label">Argent</span>
                <span class="reward-value">{{ rewards.money }}</span>
            </div>
            <div class="reward-item">
                <span class="reward-icon">â­</span>
                <span class="reward-label">ExpÃ©rience</span>
                <span class="reward-value">{{ rewards.experience }}</span>
            </div>
            <div class="reward-item">
                <span class="reward-icon">ğŸ…</span>
                <span class="reward-label">Points bonus</span>
                <span class="reward-value">{{ rewards.points }}</span>
            </div>
        </div>

        <div class="card reward-card">
            <h2>ğŸ“¦ Objets possibles</h2>
            <div class="items-grid">
                <div v-for="item in rewards.itemRarities" :key="item.rarity" class="item-block" :class="'rarity-' + item.rarity">
                    <div class="item-left">
                        <span class="item-icon">{{ item.icon }}</span>
                        <span class="item-name">{{ item.name }}</span>
                    </div>
                    <span class="prob-badge">{{ item.probability.toFixed(2) }}%</span>
                </div>
            </div>
        </div>
    </div>

</main>
</body>
</html>
